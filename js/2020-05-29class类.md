# 对 class 的理解

class 也是函数

## 实例属性和原型链上的属性

使用 hasOwnProperty()判断实例属性
联合使用 for...in 判断是否在原型链上

箭头函数写法是将属性绑定到实例上：函数的定义
普通函数在原型链上：
![](img/%E9%AA%8C%E8%AF%811.png)
![](img/%E9%AA%8C%E8%AF%81.png)

箭头函数 babel 转义：

```js
() => this.setState;

//转义为

var _this = this;
(function () {
    return _this.setState();
});
```

### 使用箭头函数与在构造器中绑定的区别

-   在渲染方法中绑定函数会带来无法预料的副作用，因为每次渲染组件(应用在生命周期内会多次渲染组件)时都会触发箭头函数
-   问题在于：如果这个函数作为 props 传递给子组件的，那么每次更新都会传递新的 props，导致低效的渲染
-   而在构造器中绑定就没有这样的问题
